x <- sample(1:52)
x <- sample(1, 1:52)
x <- sample( 1:52, 1)
library(tidyverse)
library(lubridate)
library(tidyverse)
library(lubridate)
# Get the Data
brewing_materials <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-31/brewing_materials.csv')
beer_taxed <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-31/beer_taxed.csv')
brewer_size <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-31/brewer_size.csv')
beer_states <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-31/beer_states.csv')
# Or read in with tidytuesdayR package (https://github.com/thebioengineer/tidytuesdayR)
# PLEASE NOTE TO USE 2020 DATA YOU NEED TO USE tidytuesdayR version ? from GitHub
# Either ISO-8601 date or year/week works!
# Install via devtools::install_github("thebioengineer/tidytuesdayR")
tuesdata <- tidytuesdayR::tt_load('2020-03-31')
install.packages("tidytuesdayR")
# Get the Data
brewing_materials <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-31/brewing_materials.csv')
beer_taxed <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-31/beer_taxed.csv')
brewer_size <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-31/brewer_size.csv')
beer_states <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-31/beer_states.csv')
# Or read in with tidytuesdayR package (https://github.com/thebioengineer/tidytuesdayR)
# PLEASE NOTE TO USE 2020 DATA YOU NEED TO USE tidytuesdayR version ? from GitHub
# Either ISO-8601 date or year/week works!
# Install via devtools::install_github("thebioengineer/tidytuesdayR")
tuesdata <- tidytuesdayR::tt_load('2020-03-31')
tuesdata <- tidytuesdayR::tt_load(2020, week = 14)
brewing_materials <- tuesdata$brewing_materials
View(beer_states)
View(beer_taxed)
View(brewer_size)
View(brewing_materials)
beer_states$type
library(tidyverse)
library(lubridate)
install.packages("tidytuesdayR")
install.packages("tidytuesdayR")
# Get the Data
brewing_materials <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-31/brewing_materials.csv')
beer_taxed <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-31/beer_taxed.csv')
brewer_size <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-31/brewer_size.csv')
beer_states <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-31/beer_states.csv')
# Or read in with tidytuesdayR package (https://github.com/thebioengineer/tidytuesdayR)
# PLEASE NOTE TO USE 2020 DATA YOU NEED TO USE tidytuesdayR version ? from GitHub
# Either ISO-8601 date or year/week works!
# Install via devtools::install_github("thebioengineer/tidytuesdayR")
tuesdata <- tidytuesdayR::tt_load('2020-03-31')
tuesdata <- tidytuesdayR::tt_load(2020, week = 14)
brewing_materials <- tuesdata$brewing_materials
View(beer_states)
View(beer_taxed)
View(brewer_size)
View(brewing_materials)
head(brewing_materials)
brewing_materials
brewing_materials %>%
ggplot(aes(type,month_current))+geom_col()
library(tidyverse)
library(lubridate)
install.packages("tidytuesdayR")
install.packages("tidytuesdayR")
library(tidyverse)
library(lubridate)
#install.packages("tidytuesdayR")
# Get the Data
brewing_materials <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-31/brewing_materials.csv')
beer_taxed <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-31/beer_taxed.csv')
brewer_size <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-31/brewer_size.csv')
beer_states <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-31/beer_states.csv')
# Or read in with tidytuesdayR package (https://github.com/thebioengineer/tidytuesdayR)
# PLEASE NOTE TO USE 2020 DATA YOU NEED TO USE tidytuesdayR version ? from GitHub
# Either ISO-8601 date or year/week works!
# Install via devtools::install_github("thebioengineer/tidytuesdayR")
tuesdata <- tidytuesdayR::tt_load('2020-03-31')
tuesdata <- tidytuesdayR::tt_load(2020, week = 14)
brewing_materials <- tuesdata$brewing_materials
head(brewing_materials)
brewing_materials %>%
ggplot(aes(type,month_current))+geom_col()
brewing_materials %>%
ggplot(aes(type,month_current))+geom_col()+coord_flip()
brewing_materials %>%
ggplot(aes(type,month_current))+geom_col(fill=material_type)+coord_flip()
colnames(brewing_materials)
brewing_materials %>%
ggplot(aes(type,month_current))+geom_col(fill=material_type)+coord_flip()
brewing_materials %>%
ggplot(aes(type,month_current.fill=material_type))+geom_col()+coord_flip()
brewing_materials %>%
ggplot(aes(type,month_current,fill=material_type))+geom_col()+coord_flip()
brewing_materials %>%
filter(!="Total") %>%
brewing_materials %>%
filter(material_type!="Total") %>%
ggplot(aes(type,month_current,fill=material_type))+geom_col()+coord_flip()
brewing_materials %>%
filter(date==max(date)) %>%
filter(material_type!="Total") %>%
ggplot(aes(type,month_current,fill=material_type))+geom_col()+coord_flip()
brewing_materials %>%
mutate(date=ymd(paste(year,month))) %>%
filter(date==max(date)) %>%
filter(material_type!="Total") %>%
ggplot(aes(type,month_current,fill=material_type))+geom_col()+coord_flip()
brewing_materials %>%
mutate(date=ymd(paste(year,month,1))) %>%
filter(date==max(date)) %>%
filter(material_type!="Total") %>%
ggplot(aes(type,month_current,fill=material_type))+geom_col()+coord_flip()
brewing_materials %>%
mutate(date=ymd(paste(year,month,1))) %>%
filter(date==max(date)) %>%
filter(str_detect(material_type!="Total")) %>%
ggplot(aes(type,month_current,fill=material_type))+geom_col()+coord_flip()
brewing_materials %>%
mutate(date=ymd(paste(year,month,1))) %>%
filter(date==max(date)) %>%
filter(!str_detect(material_type="Total")) %>%
ggplot(aes(type,month_current,fill=material_type))+geom_col()+coord_flip()
brewing_materials %>%
mutate(date=ymd(paste(year,month,1))) %>%
filter(date==max(date)) %>%
filter(!str_detect(material_type,"Total")) %>%
ggplot(aes(type,month_current,fill=material_type))+geom_col()+coord_flip()
brewing_materials %>%
mutate(date=ymd(paste(year,month,1))) %>%
filter(date==max(date)) %>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current)) %>%
ggplot(aes(type,month_current,fill=material_type))+geom_col()+coord_flip()
brewing_materials %>%
mutate(date=ymd(paste(year,month,1))) %>%
filter(date==max(date)) %>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current)) %>%
ggplot(aes(date,month_current,fill=type))+geom_col()+coord_flip()
brewing_materials %>%
mutate(date=ymd(paste(year,month,1))) %>%
filter(date==max(date)) %>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current,sum)) %>%
ggplot(aes(date,month_current,fill=type))+geom_col()+coord_flip()
brewing_materials %>%
mutate(date=ymd(paste(year,month,1)))
brewing_materials%>%
filter(date==max(date)) %>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current)) %>%
ggplot(aes(type,month_current,fill=material_type))+geom_col()+coord_flip()
brewing_materials%>%
filter(date== max(date)) %>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current)) %>%
ggplot(aes(type,month_current,fill=material_type))+geom_col()+coord_flip()
head(brewing_materials)
brewing_materials %>%
mutate(date=ymd(paste(year,month,1)))
brewing_materials%>%
filter(date== max(date)) %>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current)) %>%
ggplot(aes(type,month_current,fill=material_type))+geom_col()+coord_flip()
brewing_materials %>%
mutate(date=ymd(paste(year,month,1)))
library(tidyverse)
library(lubridate)
#install.packages("tidytuesdayR")
# Get the Data
brewing_materials <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-31/brewing_materials.csv')
beer_taxed <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-31/beer_taxed.csv')
brewer_size <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-31/brewer_size.csv')
beer_states <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-31/beer_states.csv')
# Or read in with tidytuesdayR package (https://github.com/thebioengineer/tidytuesdayR)
# PLEASE NOTE TO USE 2020 DATA YOU NEED TO USE tidytuesdayR version ? from GitHub
# Either ISO-8601 date or year/week works!
# Install via devtools::install_github("thebioengineer/tidytuesdayR")
tuesdata <- tidytuesdayR::tt_load('2020-03-31')
tuesdata <- tidytuesdayR::tt_load(2020, week = 14)
brewing_materials <- tuesdata$brewing_materials
brewing_materials %>%
mutate(date=ymd(paste(year,month,1)))
head(brewing_materials)
brewing_materials%>%
filter(date== max(date)) %>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current)) %>%
ggplot(aes(type,month_current,fill=material_type))+geom_col()+coord_flip()
filter(date== max(year(date)) %>%
head(brewing_materials)
brewing_materials%>%
brewing_materials %>%
filter(date == max(date)) %>%
filter(!str_detect(material_type, "Total")) %>%
mutate(type = fct_reorder(type, month_current)) %>%
ggplot(aes(type, month_current, fill = material_type)) +
geom_col() +
coord_flip()
brewing_materials%>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current)) %>%
ggplot(aes(type,month_current,fill=material_type))+geom_col()+coord_flip()
brewing_materials %>%
filter(date==max(date)) %>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current,sum)) %>%
ggplot(aes(date,month_current,fill=type))+geom_col()+coord_flip()
brewing_materials %>%
filter(date=max(date)) %>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current,sum)) %>%
ggplot(aes(date,month_current,fill=type))+geom_col()+coord_flip()
brewing_materials %>%
filter(date==max(date)) %>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current,sum)) %>%
ggplot(aes(date,month_current,fill=type))+geom_col()+coord_flip()
library(tidyverse)
library(lubridate)
theme_set(theme_light())
brewing_materials <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-31/brewing_materials.csv') %>%
mutate(date = ymd(paste(year, month, 1))) %>%
filter(year < 2016)
beer_taxed <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-31/beer_taxed.csv')
brewer_size <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-31/brewer_size.csv')
beer_states <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-31/beer_states.csv')
```
What ingredients are used in US beer production?
brewing_materials %>%
filter(date == max(date)) %>%
filter(!str_detect(material_type, "Total")) %>%
mutate(type = fct_reorder(type, month_current)) %>%
ggplot(aes(type, month_current, fill = material_type)) +
geom_col() +
coord_flip()
library(lubridate)
brewing_materials %>%
filter(!str_detect(material_type, "Total")) %>%
mutate(type = fct_reorder(type, month_current, sum)) %>%
ggplot(aes(date, month_current, fill = type)) +
geom_col() +
scale_y_continuous(labels = scales::comma) +
labs(x = "Time",
y = "Pounds used in beer production",
fill = "Material")
brewing_materials %>%
filter(str_detect(material_type, "Total.*products")) %>%
mutate(type = fct_reorder(type, month_current, sum)) %>%
ggplot(aes(date, month_current, fill = type)) +
geom_col() +
scale_y_continuous(labels = scales::comma) +
labs(x = "Time",
y = "Pounds used in beer production",
fill = "Material")
str(brewing_materials)
brewing_materials%>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current)) %>%
ggplot(aes(type,month_current,fill=material_type))+geom_col()+coord_flip()
head(brewing_materials)
brewing_materials%>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current)) %>%
ggplot(aes(type,month_current,fill=material_type))+geom_col()+coord_flip()
brewing_materials %>%
filter(date==max(date)) %>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current,sum)) %>%
ggplot(aes(date,month_current,fill=type))+geom_col()+coord_flip()
brewing_materials %>%
filter(date == max(date)) %>%
filter(!str_detect(material_type, "Total")) %>%
mutate(type = fct_reorder(type, month_current)) %>%
ggplot(aes(type, month_current, fill = material_type)) +
geom_col() +
coord_flip()
brewing_materials %>%
filter(!str_detect(material_type, "Total")) %>%
mutate(type = fct_reorder(type, month_current, sum)) %>%
ggplot(aes(date, month_current, fill = type)) +
geom_col()
brewing_materials %>%
filter(date==max(date)) %>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current, sum)) %>%
ggplot(aes(date,month_current,fill=type))+geom_col()+coord_flip()
brewing_materials %>%
filter(date==max(date)) %>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current, sum)) %>%
ggplot(aes(date,month_current,fill=type))+geom_col()+coord_flip()
brewing_materials %>%
filter(date==max(date)) %>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current, sum)) %>%
ggplot(aes(date,month_current,fill=type))+geom_col()
brewing_materials %>%
filter(!str_detect(material_type, "Total")) %>%
mutate(type = fct_reorder(type, month_current, sum)) %>%
ggplot(aes(date, month_current, fill = type)) +
geom_col() +
scale_y_continuous(labels = scales::comma) +
labs(x = "Time",
y = "Pounds used in beer production",
fill = "Material")
brewing_materials %>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current, sum)) %>%
ggplot(aes(date,month_current,fill=type))+geom_col()
brewing_materials %>%
filter(!str_detect(material_type, "Total")) %>%
mutate(type = fct_reorder(type, month_current, sum)) %>%
ggplot(aes(date, month_current, fill = type)) +
geom_col() +
scale_y_continuous(labels = scales::comma) +
labs(x = "Time",
y = "Pounds used in beer production",
fill = "Material")
brewing_materials %>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current, sum)) %>%
ggplot(aes(date,month_current,fill=type))+geom_col()
brewing_materials %>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current, sum)) %>%
ggplot(aes(date,month_current,fill=type))+geom_col()+
scale_y_continuous(labels=scales::comma)
brewing_materials %>%
filter(str_detect(material_type, "Total.*products")) %>%
mutate(type = fct_reorder(type, month_current, sum)) %>%
ggplot(aes(date, month_current, fill = type)) +
geom_col() +
scale_y_continuous(labels = scales::comma) +
labs(x = "Time",
y = "Pounds used in beer production",
fill = "Material")
brewing_materials %>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current, sum)) %>%
ggplot(aes(date,month_current,fill=type))+geom_col()+
scale_y_continuous(labels=scales::comma)
brewing_materials %>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current, sum)) %>%
ggplot(aes(date,month_current,fill=type))+geom_col()+
scale_y_continuous(labels=scales::comma)
brewing_materials %>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current, sum)) %>%
ggplot(aes(date,month_current,fill=type))+geom_col()+
scale_y_continuous(labels=scales::comma) +
labs(x="Time",y="Pounds used in beer production")
brewing_materials %>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current, sum)) %>%
ggplot(aes(date,month_current,fill=type))+geom_col()+
scale_y_continuous(labels=scales::comma) +
labs(x="Time",y="Pounds used in beer production",fill="Material Used")
?regex
?.*
brewing_materials %>%
filter(!str_detect(material_type,"Total.*Product")) %>%
mutate(type=fct_reorder(type,month_current, sum)) %>%
ggplot(aes(date,month_current,fill=type))+geom_col()+
scale_y_continuous(labels=scales::comma) +
labs(x="Time",y="Pounds used in beer production",fill="Material Used")
brewing_materials %>%
filter(str_detect(material_type,"Total.*Product")) %>%
mutate(type=fct_reorder(type,month_current, sum)) %>%
ggplot(aes(date,month_current,fill=type))+geom_col()+
scale_y_continuous(labels=scales::comma) +
labs(x="Time",y="Pounds used in beer production",fill="Material Used")
brewing_materials %>%
filter(str_detect(material_type,"Total.*Product")) %>%
mutate(type=fct_reorder(type,month_current, sum)) %>%
ggplot(aes(date,month_current,fill=type))+geom_col()+
scale_y_continuous(labels=scales::comma) +
labs(x="Time",y="Pounds used in beer production",fill="Material Used")
brewing_materials %>%
filter(str_detect(material_type,"Total.*Products")) %>%
mutate(type=fct_reorder(type,month_current, sum)) %>%
ggplot(aes(date,month_current,fill=type))+geom_col()+
scale_y_continuous(labels=scales::comma) +
labs(x="Time",y="Pounds used in beer production",fill="Material Used")
brewing_materials %>%
filter(str_detect(material_type,"Total.*products")) %>%
mutate(type=fct_reorder(type,month_current, sum)) %>%
ggplot(aes(date,month_current,fill=type))+geom_col()+
scale_y_continuous(labels=scales::comma) +
labs(x="Time",y="Pounds used in beer production",fill="Material Used")
head(brewing_materials)
head(brewing_materials)
brewing_materials%>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current)) %>%
ggplot(aes(type,month_current,fill=material_type))+geom_col()+coord_flip()
brewing_materials %>%
filter(!str_detect(material_type,"Total")) %>%
mutate(type=fct_reorder(type,month_current, sum)) %>%
ggplot(aes(date,month_current,fill=type))+geom_col()+
scale_y_continuous(labels=scales::comma) +
labs(x="Time",y="Pounds used in beer production",fill="Material Used")
brewing_materials %>%
filter(str_detect(material_type,"Total.*products")) %>%
mutate(type=fct_reorder(type,month_current, sum)) %>%
ggplot(aes(date,month_current,fill=type))+geom_col()+
scale_y_continuous(labels=scales::comma) +
labs(x="Time",y="Pounds used in beer production",fill="Material Used")
